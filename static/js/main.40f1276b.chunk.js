(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/logo.00dd8334.svg"},12:function(e,t,a){e.exports=a(19)},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),l=a(2),c=a(1);const m=c.c.button.withConfig({displayName:"CopyValueButton__Button",componentId:"xoqc9l-0"})(["background-color:",";color:",";border:none;font-size:1rem;padding:",";width:100%;max-width:280px;border-radius:4px;&:hover{cursor:pointer;}&.table{padding:",";width:1.5rem;height:1.5rem;border-radius:50%;@media screen and (min-width:","){padding:",";min-width:145px;border-radius:4px;}font-size:0.85em;.text{display:none;@media screen and (min-width:","){display:inline;}}}.text{margin-left:0.5em;}> span{pointer-events:none;}"],({theme:e})=>e.colors.primary,({theme:e})=>e.colors.white,({copied:e})=>e?"0.35em 0 0.5em":"0.5em 0 0.35em",({copied:e})=>e?"0.35em 0 0.55em":"0.75em 0 0.25em",({theme:e})=>e.maxWidth,({copied:e})=>e?"0.25em 0 0.35em":"0.5em 0 0.25em",({theme:e})=>e.maxWidth);var s=e=>r.a.createElement(m,{className:e.className,onClick:e.onClick,copied:e.copied},r.a.createElement("span",{className:"img",role:"img","aria-label":"copy-value"},e.copied?"\ud83d\udc4d":"\u29c9"),r.a.createElement("span",{className:"text"},e.copied?"Valor copiado":"Copiar valor"));class d extends n.Component{constructor(...e){super(...e),this.state={copied:!1},this.copyValue=()=>{document.getElementById(this.props.valueId).select(),document.execCommand("copy"),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),1500)}}render(){return r.a.createElement(s,{className:this.props.className,onClick:this.copyValue,copied:this.state.copied})}}var h=d;const u=c.c.span.withConfig({displayName:"Value__ValueWrapper",componentId:"sc-11rys6i-0"})(["textarea{position:absolute;left:-9999px;height:0;width:0;opacity:0;}color:",";"],e=>e.theme.colors[e.change]),p=e=>{let t=e.value,a=e.change,n=e.minimumFractionDigits,o=e.maximumFractionDigits,i=e.before,l=e.after,c=e.valueId;return r.a.createElement(u,{className:0===a?"equal":a>0?"up":"down",change:0===a?"equal":a>0?"up":"down"},i,t.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:o}),l,c&&r.a.createElement("textarea",{id:c,defaultValue:t.toLocaleString(void 0,{useGrouping:!1}),readOnly:!0}))};p.defaultProps={minimumFractionDigits:2,maximumFractionDigits:2,before:"",after:"",className:""};var g=p;function f(){const e=Object(l.a)(["\n  .date {\n    margin-right: 0.5em;\n  }\n  .day {\n    color: ",";\n    font-size: 75%;\n    display: none;\n    text-transform: uppercase;\n    @media screen and (min-width: ",") {\n      display: inline;\n    }\n  }\n"]);return f=function(){return e},e}const E=c.c.time(f(),({theme:e})=>e.colors.grey,({theme:e})=>e.maxWidth);var v=({date:e})=>{const t=new Date(e);return r.a.createElement(E,{dateTime:e},r.a.createElement("span",{className:"date"},e.substring(0,10)),r.a.createElement("span",{className:"day"},["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"][t.getDay()]))};function w(){const e=Object(l.a)(["\n  .change {\n    margin-right: 0.5em;\n  }\n"]);return w=function(){return e},e}const y=c.c.tr(w());var b=({data:e})=>r.a.createElement(y,null,r.a.createElement("td",{align:"left"},r.a.createElement(v,{date:e.date})),r.a.createElement("td",{align:"right"},r.a.createElement(g,{value:e.value,change:e.change,valueId:"value-".concat(e.date)})),r.a.createElement("td",{align:"right"},r.a.createElement(g,{className:"change",value:e.change,change:e.change,before:e.change>0?"+":""}),r.a.createElement(g,{className:"percChange",value:100*e.percChange,change:e.percChange,before:"(",after:"%)"})),r.a.createElement("td",{align:"left"},r.a.createElement(h,{className:"table",valueId:"value-".concat(e.date)})));function x(){const e=Object(l.a)(["\n  border-collapse: collapse;\n  width: 100%;\n  padding: 1em;\n  font-size: 0.85rem;\n  @media screen and (min-width: ",") {\n    font-size: 1rem;\n  }\n  thead {\n    th {\n      border-bottom: 1px solid ",";\n    }\n  }\n  tr {\n    padding: 0 0.25em;\n  }\n  td,\n  th {\n    padding: 0.5em 1em 0.5em 0;\n    border-bottom: 0.5px solid ",";\n    @media screen and (min-width: ",") {\n      padding: 0.5em 1em 0.5em 0;\n    }\n  }\n  td:last-child,\n  th:last-child {\n    padding: 0.5em 0 0.25em;\n  }\n  .percChange,\n  .text {\n    display: none;\n    @media screen and (min-width: ",") {\n      display: inline;\n    }\n  }\n"]);return x=function(){return e},e}const C=c.c.table(x(),({theme:e})=>e.maxWidth,({theme:e})=>e.colors.white,({theme:e})=>e.colors.greyDarker,({theme:e})=>e.maxWidth,({theme:e})=>e.maxWidth);var D=({trmapiData:e})=>{let t=[];for(let a=0;a<e.length-1;a+=1)t.push(r.a.createElement(b,{key:e[a].date,data:e[a]}));return r.a.createElement(C,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"left"},"Fecha"),r.a.createElement("th",{align:"right"},"TRM"),r.a.createElement("th",{align:"right"},"Cambio"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))};const k=c.c.div.withConfig({displayName:"MainTicker__TickerWrapper",componentId:"sc-595nxd-0"})(["margin:1rem 0 0.5rem;font-weight:bold;font-size:1.5em;@media screen and (min-width:","){font-size:2em;}span::before{content:'$';font-size:0.5em;margin-right:0.5rem;}span::after{font-size:0.5em;margin-left:0.5rem;}span.up::after{content:'\u25b2';}span.down::after{content:'\u25bc';}"],({theme:e})=>e.maxWidth);var N=e=>{if(!e.currentValue)return null;const t=e.currentValue,a=t.change,n=t.value,o=t.date;return r.a.createElement(k,null,r.a.createElement(g,{value:n,change:a,valueId:"value-".concat(o)}))};const I=c.c.ul.withConfig({displayName:"Menu__Ul",componentId:"sc-1xq5bgo-0"})(["font-size:0.85em;list-style:none;margin:0;padding:0;display:flex;li{padding-left:1em;&:first-child{padding-left:0;}a{color:",";text-decoration:none;}}"],({theme:e})=>e.colors.white);var W=()=>r.a.createElement(I,null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/MauricioRobayo/tasa-representativa-del-mercado"},"C\xf3digo")));const z=e=>r.a.createElement("time",{dateTime:e.date},new Intl.DateTimeFormat("es",{weekday:e.weekday,year:e.year,month:e.month,day:e.day}).format(new Date(e.date)));z.defaultProps={weekday:"long",year:"numeric",month:"long",day:"numeric"};var F=z,_=a(11),j=a.n(_);const V=c.c.footer.withConfig({displayName:"Footer__FooterWrapper",componentId:"sc-1siot74-0"})(["margin:1em auto;padding:1em 0;border-top:1px solid ",";color:",";a{color:",";}ul{justify-content:center;}"],({theme:e})=>e.colors.white,({theme:e})=>e.colors.grey,({theme:e})=>e.colors.grey);var T=()=>r.a.createElement(V,null,r.a.createElement(W,null),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.mauriciorobayo.com/tasa-representativa-del-mercado"},"trmapi")," ","es un proyecto de c\xf3digo abierto."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/MauricioRobayo/tasa-representativa-del-mercado/"},"Ay\xfadenos a mejorarlo.")));function M(){const e=Object(l.a)(["\n  html {\n    box-sizing: border-box;\n    font: 16px Arial, Helvetica, sans-serif;\n    color: ",";\n    @media screen and (min-width: ",") {\n      font-size: 18px;\n    }\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    text-align: center;\n    width: 100%;\n    background-color: ",";\n    color: ",";\n  }\n"]);return M=function(){return e},e}const O={colors:{up:"#00C853",down:"#F44336",equal:"#FFE42D",dark:"#282c34",white:"#fff",grey:"#9E9E9E",greyDarker:"#444444",primary:"#0CA0E8"},maxWidth:"640px",width:"95%"},S=Object(c.b)(M(),O.colors.white,({theme:e})=>e.maxWidth,O.colors.dark,O.colors.white),L=c.c.div.withConfig({displayName:"App__AppWrapper",componentId:"mo47nu-0"})(["max-width:",";margin:auto;nav,header,main{padding:0.5em 1em;}nav{font-size:1rem;justify-content:space-between;align-items:center;display:flex;}header{font-size:2rem;margin:0 0 2rem 0;h1,h2{font-weight:normal;font-size:0.5em;}}main{table{margin:auto;}}"],({theme:e})=>e.maxWidth);class q extends n.Component{constructor(...e){super(...e),this.state={isLoading:!0,data:[]}}componentDidMount(){fetch("https://www.datos.gov.co/resource/32sa-8pi3.json?$limit=30").then(e=>e.json()).then(e=>{const t=e.reduce((e,t,a)=>{const n=new Date(t.vigenciadesde),r=new Date(t.vigenciahasta);for(;r>=n;)e.push({value:t.valor,date:r.toISOString()}),r.setDate(r.getDate()-1);return e},[]).map((e,t,a)=>(t+1<a.length&&(e.change=e.value-a[t+1].value,e.percChange=e.change/e.value),e));this.setState({isLoading:!1,data:t})})}render(){let e={};return this.state.isLoading||(e=this.state.data[0]),r.a.createElement(c.a,{theme:O},r.a.createElement(L,null,r.a.createElement(S,null),r.a.createElement("nav",null,r.a.createElement("img",{width:"60px",height:"auto",src:j.a,alt:"logo"}),r.a.createElement(W,null)),this.state.isLoading?"Cargando...":r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",null,"Tasa Representativa del Mercado"),r.a.createElement("h2",null,r.a.createElement(F,{date:e.date})),r.a.createElement(N,{currentValue:e}),r.a.createElement(h,{valueId:"value-".concat(e.date)})),r.a.createElement("main",null,r.a.createElement(D,{trmapiData:this.state.data}))),r.a.createElement(T,null)))}}var A=q;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.40f1276b.chunk.js.map